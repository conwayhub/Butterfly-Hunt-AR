<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
  </head>

  <body style="margin: 0px; overflow: hidden;">
    <a-scene
      embedded
      arjs
      artoolkit="sourceType: webcam;"
      renderer="logarithmicDepthBuffer: true;"
    >
      <a-assets>
        <img id="text-box" src="./textbox.png" />
      </a-assets>
      <a-marker
        type="pattern"
        url="https://raw.githubusercontent.com/conwayhub/markertests/master/pattern-Bfly2.patt"
      >
        <a-entity
          id="butterfly"
          class="butterfly1"
          gltf-model="./butterflies/butterfly2.gltf"
          position="0 0 1"
          scale="0.5 0.5 0.5"
          rotation="60 0 360"
          animation="property: rotation; to: 60 0 0; loop: 1; startEvents: click; dur: 2000;"
        >
        </a-entity>

        <a-entity
          class="stars"
          position="0 0 0.5"
          particle-system="color: #C4F5FC,#E8FFB7; accelerationValue: 0 -20 0; size: 1; texture: ./circle.png; enabled: false; duration: 0.5; maxAge: 2"
        >
        </a-entity>
      </a-marker>

      <a-marker
        type="pattern"
        url="https://raw.githubusercontent.com/conwayhub/markertests/master/Thickums.patt"
      >
        <a-entity
          id="butterfly2"
          class="butterfly2"
          gltf-model="./butterflies/NOVELO_BUTTERFLY.gltf"
          position="0 0 1"
          scale="0.5 0.5 0.5"
          rotation="60 0 360"
          animation="property: rotation; to: 60 0 0; loop: 1; startEvents: click; dur: 2000;"
        >
        </a-entity>
        <a-entity
          class="stars"
          position="0 0 0.5"
          particle-system="color: #C4F5FC,#E8FFB7; accelerationValue: 0 -20 0; size: 1; texture: ./circle.png; enabled: false; duration: 0.5; maxAge: 2"
        >
        </a-entity>
      </a-marker>

      <a-marker
        type="pattern"
        url="https://raw.githubusercontent.com/conwayhub/markertests/master/pattern-Bfly3.patt"
      >
        <a-entity
          id="butterfly3"
          class="butterfly3"
          gltf-model="./butterflies/model.gltf"
          position="0 0 1"
          scale="0.5 0.5 0.5"
          rotation="60 0 360"
          animation="property: rotation; to: 60 0 0; loop: 1; startEvents: click; dur: 2000;"
        ></a-entity>

        <a-entity
          class="stars"
          position="0 0 0.5"
          particle-system="color: #C4F5FC,#E8FFB7; accelerationValue: 0 -20 0; size: 1; texture: ./circle.png; enabled: false; duration: 0.5; maxAge: 2"
        >
        </a-entity>
      </a-marker>

      <a-marker
        type="pattern"
        url="https://raw.githubusercontent.com/conwayhub/markertests/master/pattern-Bfly4.patt"
      >
        <a-entity
          id="butterfly4"
          class="butterfly4"
          gltf-model="./butterflies/bytt.gltf"
          position="0 0 1"
          scale="0.5 0.5 0.5"
          rotation="60 0 360"
          animation="property: rotation; to: 60 0 0; loop: 1; startEvents: click; dur: 2000;"
        ></a-entity>
        <a-entity
          class="stars"
          position="0 0 0.5"
          particle-system="color: #C4F5FC,#E8FFB7; accelerationValue: 0 -20 0; size: 1; texture: ./circle.png; enabled: false; duration: 0.5; maxAge: 2"
        >
        </a-entity>
      </a-marker>

      <a-entity camera>
        <a-entity
          cursor="fuse: false"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.03"
          material="color: black; opacity: 0.5"
          animation__enter="property: scale; startEvents: mouseenter; easing: easeInCubic; dur: 500; from: 1 1 1; to: 0.7 0.7 0.7"
          event-set__enter="_event: mouseenter; material.color: green"
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 500; from: 0.7 0.7 0.7; to: 1 1 1"
          animation__leave="property: scale; startEvents: mouseleave; delay: 3000; easing: easeInCubic; dur: 500; to: 1 1 1"
          event-set__leave="_event: mouseleave; material.color: black"
        >
        </a-entity>
        <!-- <a-image src="#text-box" class="promptToCatch" geometry="primitive: plane; height: 0.5; width: 1.5"
          position="-0.02 -1 -3.0" material="side: double" negate="false">
          </a-entity> -->

        <a-text
          id="promptToScan"
          value="There are butterflies about! 

           Let's find their markers to catch them!"
          font="./fonts/Bubblegum-msdf.json"
          color="#c3ebb2"
          negate="false"
          position="-.7 -1 -3"
          scale=".4 .4 .4"
          visible="true"
        ></a-text>

        <a-text
          id="promptToCatch"
          value="Quick! Tap your screen to catch it!"
          font="./fonts/Bubblegum-msdf.json"
          color="#c3ebb2"
          negate="false"
          position="-.7 -1 -3"
          scale="0.4 0.4 0.4"
          visible="false"
        >
        </a-text>

        <a-text
          id="catchedIt"
          value="To see your butterfly, go into your collection!"
          font="./fonts/Bubblegum-msdf.json"
          color="#c3ebb2"
          negate="false"
          position="-0.7 1 -3"
          scale="0.4 0.4 0.4"
          visible="false"
        >
        </a-text>

        <a-text
          id="text"
          value=""
          font="./fonts/Bubblegum-msdf.json"
          color="#c3ebb2"
          negate="false"
          position="-.7 1 -3"
          scale="0.4 0.4 0.4"
        ></a-text>
      </a-entity>
    </a-scene>
    <script src="animationLoader.js"></script>
    <script src="./ar.js"></script>
  </body>
</html>
